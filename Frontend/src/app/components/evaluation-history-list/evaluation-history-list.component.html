<p-table
  [value]="evaluationHistory"
  [rows]="5"
  [paginator]="true"
  [rowsPerPageOptions]="[5, 10, 25, 50]"
  [tableStyle]="{ 'min-width': '50rem' }"
  [scrollable]="true"
  scrollHeight="400px"
  stateStorage="session"
  stateKey="eval-history-list-session"
  styleClass="p-datatable-striped"
>
  <ng-template pTemplate="caption">Historial de Evaluaciónes</ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="id" pFrozenColumn>
        Id
        <p-sortIcon field="id"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="id"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="skill_id">
        Habilidad
        <p-sortIcon field="skill_id"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="skill_id"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="ranking_id">
        Ranking
        <p-sortIcon field="ranking_id"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="ranking_id"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="evaluator">
        Evaluador
        <p-sortIcon field="evaluator"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="evaluator"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="subject">
        Subjeto
        <p-sortIcon field="subject"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="evaluator"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="kudos">
        Kudos
        <p-sortIcon field="kudos"></p-sortIcon>
        <p-columnFilter
          type="numeric"
          field="kudos"
          display="menu"
        ></p-columnFilter>
      </th>

      <th pSortableColumn="created_at">
        Fecha
        <p-sortIcon field="created_at"></p-sortIcon>
        <p-columnFilter
          type="date"
          field="created_at"
          display="menu"
        ></p-columnFilter>
      </th>
      <th></th>
    </tr>
  </ng-template>

  <!-- TODO: Change the JS style property change -->
  <ng-template pTemplate="body" let-eval>
    <tr>
      <td pFrozenColumn>{{ eval.id }}</td>
      <td>{{ eval.skill.name }}</td>
      <td>{{ eval.ranking.name }}</td>
      <td>{{ eval.evaluator.name }}</td>
      <td>{{ eval.subject.name }}</td>
      <td>{{ eval.kudos }}</td>
      <td>{{ eval.created_at }}</td>
      <td>
        <button
          pButton
          pRipple
          icon="pi pi-times"
          (click)="delete($event, eval.id)"
          class="p-button-danger"
        ></button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="8">Historial vació</td>
    </tr>
  </ng-template>
</p-table>
