<div class="bg-gray-900 p-20">
  <form class="flex flex-col gap-6" [formGroup]="form" (ngSubmit)="submit()">
    <p-fileUpload
      id="avatar" mode="basic" chooseLabel="Avatar" accept="image/png"
      (onUpload)="encodeAvatar($event)"
      styleClass="w-full">
    </p-fileUpload>

    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-hashtag"></i>
      </span>
      <span class="p-float-label">
        <input id="nickname" pInputText formControlName="nickname"
               autocomplete="username" class="w-full"/>
        <label for="nickname">Nickname</label>
      </span>

      <div *ngIf="isSubmit && formControl['nickname'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['nickname'].errors['required']">
          Debes poner tu nickname.
        </div>
      </div>
    </div>

    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <span class="p-float-label">
        <input pInputText id="name" formControlName="name"/>
        <label for="name">Nombre</label>
      </span>

      <div *ngIf="isSubmit && formControl['name'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['name'].errors['required']">
          Debes poner tu nombre.
        </div>
      </div>

      <span class="p-float-label">
        <input pInputText id="surnames" formControlName="surnames"/>
        <label for="surnames">Apellidos</label>
      </span>

      <div *ngIf="isSubmit && formControl['surnames'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['surnames'].errors['required']">
          Debes poner tus apellidos.
        </div>
      </div>
    </div>

    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-key"></i>
      </span>
      <span class="p-float-label">
        <input id="password" pPassword type="password" autocomplete="new-password" formControlName="password"/>
        <label for="password">Contraseña</label>
      </span>

      <div *ngIf="isSubmit && formControl['password'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['password'].errors['required']">
          Debes poner la contraseña.
        </div>
      </div>

      <span class="p-float-label">
        <input id="password_confirmation" pPassword type="password" autocomplete="new-password"
               formControlName="password_confirmation"/>
        <label for="password_confirmation">Confirmar Contraseña</label>
      </span>

      <div *ngIf="isSubmit && formControl['password_confirmation'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['password_confirmation'].errors['required']">
          Debes poner la contraseña de nuevo.
        </div>
      </div>
    </div>

    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-at"></i>
      </span>

      <span class="p-float-label">
        <input id="email" pInputText type="email" autocomplete="email" formControlName="email"/>
        <label for="email">Email</label>
      </span>

      <div *ngIf="isSubmit && formControl['email'].errors" class="text-sm text-red-600">
        <div *ngIf="formControl['email'].errors['required']">
          Debes poner tu email.
        </div>

        <div *ngIf="formControl['email'].errors['email']">
          Debes poner un correo electrónico válido.
        </div>
      </div>
    </div>

    <p-toggleButton
      onLabel="Soy un estudiante" onIcon="pi pi-book"
      offLabel="Soy un profesor" offIcon="pi pi-users"
      styleClass="w-full"
      formControlName="isStudent"
    >
    </p-toggleButton>

    <div [ngSwitch]="form.value.isStudent">
      <div *ngSwitchDefault>
        <span class="p-float-label">
          <p-calendar id="birth_date" formControlName="birth_date" [showIcon]="true" [showClear]="true"
                      styleClass="w-full"></p-calendar>
          <label for="birth_date">Fecha de Nacimiento</label>
        </span>

        <div *ngIf="isSubmit && formControl['birth_date'].errors" class="text-sm text-red-600">
          <div *ngIf="formControl['birth_date'].errors['required']">
            Debes poner tu fecha de nacimiento.
          </div>
        </div>
      </div>

      <div *ngSwitchCase="false">
        <span class="p-float-label">
          <input id="center" pInputText formControlName="center"
                 class="w-full"/>
          <label for="center">Centro</label>
        </span>

        <div *ngIf="isSubmit && formControl['center'].errors" class="text-sm text-red-600">
          <div *ngIf="formControl['center'].errors['required']">
            Debes poner el centro.
          </div>
        </div>
      </div>
    </div>

    <p-checkbox formControlName="tos" [binary]="true" label="Acepto los términos de servicio"></p-checkbox>

    <div *ngIf="isSubmit && formControl['tos'].errors" class="text-sm text-red-600">
      <label class="ml-2" *ngIf="isSubmit && formControl['tos'].errors['required']">
        Debes aceptar los términos de servicio
      </label>
    </div>

    <span class="p-buttonset">
      <button pButton pRipple
              class="p-button-outlined p-button-raised w-1/2">
        Registrar
      </button>

      <button pButton pRipple
              type="button" routerLink="/login"
              class="p-button-outlined p-button-raised p-button-secondary w-1/2">
        Ya tienes una cuenta?
      </button>
    </span>
  </form>
</div>
